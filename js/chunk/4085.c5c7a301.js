"use strict";(self.webpackChunkbalm_ui=self.webpackChunkbalm_ui||[]).push([[4085],{34085:function(t,n,i){i.r(n);n.default='<pre><code class="language-html">&lt;transition-group class=&quot;preview-list&quot; name=&quot;list&quot; tag=&quot;ul&quot;&gt;\n  &lt;li v-for=&quot;(file, index) in files&quot; :key=&quot;file.tmpId&quot; class=&quot;item&quot;&gt;\n    &lt;div class=&quot;inner&quot;&gt;\n      &lt;span class=&quot;preview&quot; :style=&quot;setBg(file)&quot;&gt;&lt;/span&gt;\n      &lt;span class=&quot;actions&quot;&gt;\n        &lt;ui-fab\n          v-if=&quot;!file.uploaded&quot;\n          icon=&quot;publish&quot;\n          mini\n          @click=&quot;upload(file)&quot;\n        &gt;&lt;/ui-fab&gt;\n        &lt;ui-fab icon=&quot;delete&quot; mini @click=&quot;remove(index)&quot;&gt;&lt;/ui-fab&gt;\n      &lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n  &lt;li v-if=&quot;files.length &lt; limit&quot; key=&quot;add&quot; class=&quot;item add-btn&quot;&gt;\n    &lt;div class=&quot;inner&quot;&gt;\n      &lt;ui-file accept=&quot;image/*&quot; multiple preview @change=&quot;onChange&quot;&gt;\n        &lt;ui-icon class=&quot;add-icon&quot;&gt;add&lt;/ui-icon&gt;\n      &lt;/ui-file&gt;\n    &lt;/div&gt;\n  &lt;/li&gt;\n&lt;/transition-group&gt;\n&lt;p&gt;\n  &lt;ui-button raised @click=&quot;uploadAllFiles&quot;&gt;\n    &lt;ui-icon&gt;publish&lt;/ui-icon&gt;\n    Upload All\n  &lt;/ui-button&gt;\n&lt;/p&gt;\n</code></pre> <pre><code class="language-js">export default {\n  data() {\n    return {\n      files: [],\n      limit: 5,\n      postUrl: &#39;/api/upload&#39;\n    };\n  },\n  methods: {\n    setBg({ previewSrc }) {\n      return previewSrc ? { backgroundImage: `url(${previewSrc})` } : {};\n    },\n    onChange(files) {\n      if (files.length &gt; this.limit - this.files3.length) {\n        this.$toast(`Image Limit: ${this.limit}`);\n      } else {\n        files.forEach((file) =&gt; {\n          file.uploaded = false;\n          this.files3.push(file);\n        });\n      }\n    },\n    async upload(file) {\n      try {\n        let response = await this.$http.post(this.postUrl, {\n          file: file.sourceFile\n        });\n        file.uploaded = true;\n        console.log(`${file.name} is uploaded`);\n      } catch (e) {\n        // your code\n      }\n    },\n    uploadAllFiles() {\n      if (this.files3.length) {\n        this.files3.forEach((file) =&gt; {\n          this.upload(file);\n        });\n      } else {\n        this.$toast(&#39;No files&#39;);\n      }\n    },\n    remove(index) {\n      this.files3.splice(index, 1);\n    }\n  }\n};\n</code></pre> <pre><code class="language-scss">/* extends demo2 */\n.preview-list {\n  &amp; &gt; .item {\n    .actions {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n      height: 48px;\n    }\n    &amp;.add-btn {\n      .mdc-file {\n        position: relative;\n        width: 100%;\n        height: 0;\n        padding-bottom: 100%;\n        border: 1px solid #ddd;\n        border-radius: 3px;\n        cursor: pointer;\n        background-color: #fff;\n      }\n      .add-icon {\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        font-size: 48px;\n      }\n    }\n  }\n}\n</code></pre> '}}]);